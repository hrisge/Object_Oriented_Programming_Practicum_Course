# OOП - Практикум 20.03.2024 - Седмица 4

## Задачи върху обикновени файлове

**Задача 1:**

Реализирайте функция, която приема отворен поток и връща размера на отворения файл в константно време.

**Задача 2:**

От стандартния вход се прочитат три числа. Запишете във файл "result.txt"сумата и произведението им. <br />
Направете функция, която извежда на стандартния изход разликата на сумата и произведението, прочетени от файла "result.txt". <br />
_Забележка:_ Коректността на данните във файла, който четете, е гарантирана. <br />

**Задача 3.** 

Да се напише програма, която чете матрица от текстов файл от вида : 3,3,3|1,1,3|3,3,1, чете друга матрица в същия формат от втория файл и записва произведението им в нов файл.

Примерен вход:

Файл fst.txt:
```c++
1,2,3|3,2,1|1,2,3
```

файл snd.txt:
```c++
4,5,6|6,5,4|4,6,5
```


Примерен изход:
файл result.txt:
```c++
28,33,29|28,31,31|28,33,29
```

**Задача 4.**	

Да се напишат функции, които запазват и зареждат данните за студентите в една група, като всеки студент се характеризира с:
* две имена с максимална дължина 16 символа всяко;
* петцифрен факултетен номер;
* среден успех и цвят на косата (кафява, черна, руса, червена или бяла). 

Файлът може да съдържа максимално 1024 студента. Файлът трябва да бъде с разширение .csv

**Задача 5:**

Да се напише функция, която приема поток към текстов файл и структура, която съдържа два масива от символи ( **key и value** (всеки с максимален размер от 32 символа)). Функцията трябва да смени всяко срещане на **key** c **value** в текстовия файл. <br />
Новия тескт да се запише в друг текстов файл. <br />
Да се напише втора функция, която приема текстов файл и множество от двойки **key и value** и заменя всеки **key** в текстовия файл със съответния му **value**. <br />
_Забележка:_ Приемете, че данните са валидни и няма нито един key да е същия, като някое value на друга двойка

**Задача 6:**

Да се създаде структура pair, която представя наредена двойка от естествени числа. <br />
Да се създаде структура, която представя релация. В релацията има най-много 25 наредени двойки и структурата пази текущия си размер. <br />
Да се създаде функция writeRelationToFile(...), която записва релацията във файл с име "relation.txt"и readRelationFromFile(...), която чете релацията от файла. <br />
Следните функции ще ви бъдат полезни: <br />

- createPair()
- initPair()
- readPairFromFile()
- writePairToFile()
- addPairToRelation()

Помислете какво трябва да приемат и връщат горните функции.  
Напишете проста програма, която демонстрира работата на написаната от вас програма.

**Задача 7:**

Реализирайте структура User, която да съдържа:
* име; 
* имейл;
* парола.

Всяко поле е с максимална дължина 128 символа. Създайте възможност за записване и четене на потребител в текстов файл. <br />

Реализирайте клас System, който има масив от User-и. Системата поддържа максимално 100 потребителя. Създайте методи за запазване и прочитане на обект от тип System от файл. <br />

**Задача 8:**

Напишете програма, която управлява списък с книги. Всяка книга трябва да съдържа следните данни:
* Заглавие (64 символа)
* Автор (64 символа)
* Година на издаване
* Цена ( > 1 && < 100)

Програмата трябва да:
* Прочита списък с книги от файл books.csv
* Позволява на потребител да добавя нови книги
* Записва новите книги обратно във файла
* Извежда списъка с книги на екрана

Примерно съдържание на файла books.csv: 
```
Origin,Dan Brown,2017,29.99
Dune,Frank Herbert,1965,21.89
A Murder Is Announced,Agatha Christie,1950,18.99
Billy Summers,Stephen King,2021,23.45
```

**Задача 9:**

Напишете програма, която взема две версии на един файл (нова и стара) и записва в трети файл всички разлики между двата файла. <br />

Третия файл трябва да е във вида:

```
еднакъв ред
- стар ред
+ нов ред
```

Примерен вход:

file1:

```
Water. Earth. Fire. Air.
Long ago, the four nations lived together in harmony.
Then everything changed when the Fire Nation attacked.
Only the Avatar, master of all four elements, could stop them,
```

file2:

```
Water. Earth. Fire. Air.
Long ago, the five nations lived together in harmony.
Then everything changed when the Water Nation attacked.
Only the Avatar, master of all four elements, could stop them,
but when the world needed him most, he vanished.
```

Примерен изход:

```
Water. Earth. Fire. Air.
- Long ago, the four nations lived together in harmony.
+ Long ago, the five nations lived together in harmony.
- Then everything changed when the Fire Nation attacked.
+ Then everything changed when the Water Nation attacked.
Only the Avatar, master of all four elements, could stop them,
+ but when the world needed him most, he vanished.
```

## Задачи върху Двоични Файлове

**Задача 1.** 

Да се напише структура, която съхранява информация за доставка на пица. Да се създаде масив от доставки - списък с поръчки. Една поръчка съдържа име на клиента (до 50 символа), телефонен номер (до 20 символа), адрес на потребителя(до 100 символа), общата стойност на доставката, броят пици и масив от пици. Структурата на пицата трябва да съдъжа типа на пицата { Маргарита, калцоне, бурата и каквато още пожелаете}, размер на пицата {S,M,L}, цена на пицата. Да се имплементират функции, които позволяват съхраняването и изчитането на информацията за поръчките от двоичен файл. Да се сортират поръчките в масива по адрес на доставка и да се запише в нов двоичен файл.

Разгледайте съдържанието на този файл като използвате за целта подходящ Hex Editor: https://en.wikipedia.org/wiki/Hex_editor

**Задача 2.**	

След като Пенчо успешно завърши първи курс на ФМИ, той беше готов да започне работа. Но понеже работодателите, търсещи неговите невероятни умения, бяха повече от очакваното, той реши да изтрие имейла си и да направи собствена система, чрез която да получава покани за работа.

Създайте структура, описваща обява за работа. Структурата трябва да съдържа:

    1) Име на фирмата. То трябва да е с максимална дължина от 25 символа.
    2) Брой на програмистите, с които той ще работи в екип.
    3) Брой на дните платен отпуск през годината.
    4) Сума, която ще му бъде изплатена след успешно завършване на проекта  (от тип long long)

Създайте функция, която прочита n на брой заявки от стандартния вход.
Заявките се запазват в двоичен файл, като ако във файла вече има информация,тя не се изтрива.

Създайте функция void filterOffers(const char* filePath, long long minSalary), която приема адрес на файл, от който четем заявките. Извежда на стандартния изход всички обяви за работа, които предлагат поне толкова пари, колкото са подадени като аргумент.

Създайте функция, bool existOffer(const char* filePath, const char* name),
която проверява дали дадена фирма е пратила покана за работа.

*Бонус №1: Създайте void perfectOffer(const char* filePath, int maxCoworkers, int minVacancyDays, int minSalary), която извежда във файл всички обяви, които отговарят точно на изискванията на Пенчо.

*Бонус №2: Създайте система, която работи чрез следните заявки:

    a <оферта> - добавя оферта за работа

    i - показва всички оферти

    s <име на фирма> - връща дали фирмата съществува

    f <число> - извежда всички обяви, за които заплатата е по - висока от числото
    q - изход от системата